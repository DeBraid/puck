<div class="container-fluid">
	<div class="page-header">
  		<h2>Goalie Stats</h2>
  		<span class="pull-right">
				
				<copy-url></copy-url>

		</span>

	</div>

	<filter-menu toi="TOIMin" season="season" situation="situation">
	</filter-menu>

	
	
	<div class="row">
		<div class="col-sm-12">
			<span ng-show="loading">
				<span ng-include="'app/templates/loading_spinner.html'"></span>
			</span>
			
			<span ng-hide="loading">
				<button ng-click="toggleTableFilters()"
					class="btn btn-default pull-right grey-bg">
						<i class="glyphicon" ng-class=" showFilters ? 'glyphicon-minus' : 'glyphicon-plus' "></i>
						<span ng-if="showFilters">Hide </span>
						<span ng-if="!showFilters">Show </span>
						Data Filters
				</button>
				<table class="table table-bordered table-striped table-condensed table-hover">
					<thead>
					<tr ng-hide="showFilters==false" class="grey-bg">
						<th>Rank</th>
						<th>Select</th>
						<th>Player Name</th>
						<th>Team</th>
						<th class="text-right">GP</th>
						<th class="text-right">TOI</th>
						<th class="text-right">GA</th>
						<th class="text-right">SA</th>
						<th class="text-right">FA</th>
						<th class="text-right">CA</th>
						<th class="text-right">GA60</th>
						<th class="text-right">SA60</th>
						<th class="text-right">FA60</th>
						<th class="text-right">CA60</th>
						<th class="text-right">Sv%</th>
						<th class="text-right">FSv%</th>
						<th class="text-right">CSv%</th>
					</tr>
					
					<tr ng-hide="showFilters==false" class="grey-bg">
						<td></td>
						<td>Filter: <input type="checkbox" ng-model="checkboxFilterOn"></td>
						<td><input size=20 ng-model="player_name"
							ng-change="activeFilterInputs(filter_inputs.player_name, 'player_name')">
						</td>
						<td><input size=12 ng-model="team"
							ng-change="activeFilterInputs(filter_inputs.team, 'team')">
						</td>
						
						<td align="right">
							<input size=5 ng-model="filter_inputs.GPMin"
								ng-change="activeFilterInputs(filter_inputs.GPMin, 'GPMin')"><br>
							to<br>
							<input size=5 ng-model="filter_inputs.GPMax"
								ng-change="activeFilterInputs(filter_inputs.GPMax, 'GPMax')"><br>
						</td>
						<td  align="right">
							<input size=5 ng-model="filter_inputs.TOIMin"
								ng-change="activeFilterInputs(filter_inputs.TOIMin, 'TOIMin')"><br>
							to<br>
							<input size=5 ng-model="filter_inputs.TOIMax"
								ng-change="activeFilterInputs(filter_inputs.TOIMax, 'TOIMax')"><br>
						</td>

						<td align="right">
							<input size=5 ng-model="filter_inputs.GAMin"
								ng-change="activeFilterInputs(filter_inputs.GAMin, 'GAMin')"><br>
							to<br>
							<input size=5 ng-model="filter_inputs.GAMax"
								ng-change="activeFilterInputs(filter_inputs.GAMax, 'GAMax')"><br>
						</td>
						<td align="right">
							<input size=5 ng-model="filter_inputs.SAMin"
								ng-change="activeFilterInputs(filter_inputs.SAMin, 'SAMin')"><br>
							to<br>
							<input size=5 ng-model="filter_inputs.SAMax"
								ng-change="activeFilterInputs(filter_inputs.SAMax, 'SAMax')"><br>
						</td>
						<td align="right">
							<input size=5 ng-model="filter_inputs.FAMin"
								ng-change="activeFilterInputs(filter_inputs.FAMin, 'FAMin')"><br>
							to<br>
							<input size=5 ng-model="filter_inputs.FAMax"
								ng-change="activeFilterInputs(filter_inputs.FAMax, 'FAMax')"><br>
						</td>
						<td align="right">
							<input size=5 ng-model="filter_inputs.CAMin"
								ng-change="activeFilterInputs(filter_inputs.CAMin, 'CAMin')"><br>
							to<br>
							<input size=5 ng-model="filter_inputs.CAMax"
								ng-change="activeFilterInputs(filter_inputs.CAMax, 'CAMax')"><br>
						</td>

						<td align="right">
							<input size=5 ng-model="filter_inputs.GA60Min"
								ng-change="activeFilterInputs(filter_inputs.GA60Min, 'GA60Min')"><br>
							to<br>
							<input size=5 ng-model="filter_inputs.GA60Max"
								ng-change="activeFilterInputs(filter_inputs.GA60Max, 'GA60Max')"><br>
						</td>
						<td align="right">
							<input size=5 ng-model="filter_inputs.SA60Min"
								ng-change="activeFilterInputs(filter_inputs.SA60Min, 'SA60Min')"><br>
							to<br>
							<input size=5 ng-model="filter_inputs.SA60Max"
								ng-change="activeFilterInputs(filter_inputs.SA60Max, 'SA60Max')"><br>
						</td>
						<td align="right">
							<input size=5 ng-model="filter_inputs.FA60Min"
								ng-change="activeFilterInputs(filter_inputs.FA60Min, 'FA60Min')"><br>
							to<br>
							<input size=5 ng-model="filter_inputs.FA60Max"
								ng-change="activeFilterInputs(filter_inputs.FA60Max, 'FA60Max')"><br>
						</td>
						<td align="right">
							<input size=5 ng-model="filter_inputs.CA60Min"
								ng-change="activeFilterInputs(filter_inputs.CA60Min, 'CA60Min')"><br>
							to<br>
							<input size=5 ng-model="filter_inputs.CA60Max"
								ng-change="activeFilterInputs(filter_inputs.CA60Max, 'CA60Max')"><br>
						</td>

						<td align="right">
							<input size=5 ng-model="filter_inputs.SvPctMin"
								ng-change="activeFilterInputs(filter_inputs.SvPctMin, 'SvPctMin')"><br>
							to<br>
							<input size=5 ng-model="filter_inputs.SvPctMax"
								ng-change="activeFilterInputs(filter_inputs.SvPctMax, 'SvPctMax')"><br>
						</td>
						<td align="right">
							<input size=5 ng-model="filter_inputs.FSvPctMin"
								ng-change="activeFilterInputs(filter_inputs.FSvPctMin, 'FSvPctMin')"><br>
							to<br>
							<input size=5 ng-model="filter_inputs.FSvPctMax"
								ng-change="activeFilterInputs(filter_inputs.FSvPctMax, 'FSvPctMax')"><br>
						</td>
						<td align="right">
							<input size=5 ng-model="filter_inputs.CSvPctMin"
								ng-change="activeFilterInputs(filter_inputs.CSvPctMin, 'CSvPctMin')"><br>
							to<br>
							<input size=5 ng-model="filter_inputs.CSvPctMax"
								ng-change="activeFilterInputs(filter_inputs.CSvPctMax, 'CSvPctMax')"><br>
						</td>		
					</tr>

					<tr></tr>
					<tr class="grey-bg">
						<th>Rank</th>
						<th ng-hide="showFilters==false">Select</th>
						
						<th><a href="" ng-click="orderByField=['Last_Name','First_Name']; reverseSort = !reverseSort">
						Player_Name&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
						</a></th>

						<th><a href="" ng-click="orderByField='Team'; reverseSort = !reverseSort">
						Team&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
						</a></th>

						<th class="text-right"><a href="" ng-click="orderByField='GP'; reverseSort = !reverseSort">
						GP
						</a></th>
						
						<th class="text-right"><a href="" ng-click="orderByField='TOIDec'; reverseSort = !reverseSort">
						TOI
						</a></th>
						
						<th class="text-right"><a href="" ng-click="orderByField='GA'; reverseSort = !reverseSort">
						GA
						</a></th>
						<th class="text-right"><a href="" ng-click="orderByField='SA'; reverseSort = !reverseSort">
						SA
						</a></th>
						<th class="text-right"><a href="" ng-click="orderByField='FA'; reverseSort = !reverseSort">
						FA
						</a></th>
						<th class="text-right"><a href="" ng-click="orderByField='CA'; reverseSort = !reverseSort">
						CA
						</a></th>
						
						<th class="text-right"><a href="" ng-click="orderByField='GA60'; reverseSort = !reverseSort">
						GA60
						</a></th>
						<th class="text-right"><a href="" ng-click="orderByField='SA60'; reverseSort = !reverseSort">
						SA60
						</a></th>
						<th class="text-right"><a href="" ng-click="orderByField='FA60'; reverseSort = !reverseSort">
						FA60
						</a></th>
						<th class="text-right"><a href="" ng-click="orderByField='CA60'; reverseSort = !reverseSort">
						CA60
						</a></th>

						<th class="text-right"><a href="" ng-click="orderByField='SvPct'; reverseSort = !reverseSort">
						Sv%
						</a></th>
						<th class="text-right"><a href="" ng-click="orderByField='FSvPct'; reverseSort = !reverseSort">
						FSv%
						</a></th>
						<th class="text-right"><a href="" ng-click="orderByField='CSvPct'; reverseSort = !reverseSort">
						CSv%
						</a></th>
					</tr>
					</thead>
					<tbody>
					<tr ng-repeat="player in playerdata |orderBy:orderByField:reverseSort | filter:{Player_Name: player_name, Team: team } | filter:tableFilter" >
						<td>{{$index +1}}</td>
						<td ng-show="showFilters">
							<input type="checkbox" ng-model="player.checkboxFilter">
						</td>
						<td align="left">
							<a ng-href="players/#!/?pid={{player.PID}}" 
								target="puckalyticsplayer">
								{{player.Player_Name}}
							</a>
						</td>
						<td align="left" ng-class="orderByField=='Team' ? 'bold-text' :''">
							{{player.Team}}
						</td>
						
						<td align="right" ng-class="orderByField=='GP' ? 'bold-text' :''">
							{{player.GP}}
						</td>
						<td align="right" ng-class="orderByField=='TOIDec' ? 'bold-text' :''">
							{{player.TOI}}
						</td>
						<td align="right" ng-class="orderByField=='GA' ? 'bold-text' :''">
							{{player.GA}}
						</td>
						<td align="right" ng-class="orderByField=='SA' ? 'bold-text' :''">
							{{player.SA}}
						</td>
						<td align="right" ng-class="orderByField=='FA' ? 'bold-text' :''">
							{{player.FA}}
						</td>
						<td align="right" ng-class="orderByField=='CA' ? 'bold-text' :''">
							{{player.CA}}
						</td>
						<td align="right" ng-class="orderByField=='GA60' ? 'bold-text' :''">
							{{player.GA60 | number:2 }}
						</td>
						<td align="right" ng-class="orderByField=='SA60' ? 'bold-text' :''">
							{{player.SA60 | number:2 }}
						</td>
						<td align="right" ng-class="orderByField=='FA60' ? 'bold-text' :''">
							{{player.FA60 | number:2 }}
						</td>
						<td align="right" ng-class="orderByField=='CA60' ? 'bold-text' :''">
							{{player.CA60 | number:2 }}
						</td>
						<td align="right" ng-class="orderByField=='SvPct' ? 'bold-text' :''">
							{{player.SvPct | number:2 }}
						</td>
						<td align="right" ng-class="orderByField=='FSvPct' ? 'bold-text' :''">
							{{player.FSvPct | number:2 }}
						</td>
						<td align="right" ng-class="orderByField=='CSvPct' ? 'bold-text' :''">
							{{player.CSvPct | number:2 }}
						</td>
					</tr>
					</tbody>
				</table>
			</span>

			<span ng-if="error_message">
				<div class="row text-center">
					<h2>{{ error_message }}</h2>
				</div>
			</span>
			
		</div>
	</div>
</div>
	
